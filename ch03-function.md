# Chapter 3 函式

## 簡短

- 函式不應該太長，一個函式建議不要大於 20 行，每個都要透露出本身的意圖，並要能引領到下個函式。
- 條件敘述都應該只有一行，且那行程式通常是函式呼叫敘述。這也代表函式不應該大到包含巢狀結構。

## 只做一件事情

一個函式只應該做一件事。若一個函式可以被提煉出兩個以上的抽象概念、或是可以被拆解成兩個以上的段落，那就是做了超過一件事情，可以將其拆分成不同的函式。

## 每個函式只有一層抽象概念
一個函式若含有混合層次的抽象概念，會讓人無法分辨某個表達式是一個基本概念還是一個細節。

我們希望程式碼的每個函式後面都緊接著下一層次的抽象概念，這個方法原則稱為**降層準則**，其實作成果為函式中的每個段落都敘述著目前所處的抽象層次，並且提及了接續的下個層次的函式。

## Switch 敘述
從 switch 敘述的本質來看，它永遠都在做多件事情，而且我們很難避免使用它，但是我們可以選擇將每個 switch 敘述都藏在較低抽象層次的函式或類別裡。

舉例來說，一個 switch 敘述對傳入的類別分別做不同的處理，那我們可以將其改成多型（Polymorphism）來達到目的。

## 使用具描述能力的名稱
不用害怕去取一個較長的函式名稱，一個較長但具描述性質的名稱，比一個較短但難以理解的名稱、或是一個較長且具描述性質的註解來得好。

## 參數
函式的參數數量，最理想是零個，再不然就是一個或兩個，盡量避免使用三個以上的參數。原因有二：
1. 參數具有透露概念的能力，其使用會強迫閱讀者了解可能並不那麼重要的細節。
2. 從測試的角度看，在參數數量多時，要考慮到所有參數可能的組合會較為困難。

### 單一參數的常見形式
傳遞單一參數至函數中有幾個常見的理由：
1. 詢問和這個參數有關的問題
2. 對這個參數進行某種操作並回傳
3. 利用參數去呼叫特定事件

如果不符合以上三種形式，試著不要使用單一參數。

## 旗標（flag）參數

## 兩個參數的常見形式