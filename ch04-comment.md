# Chapter 4 註解

註解是用來**彌補我們用程式碼表達意圖的失敗**，所以當需要寫註解時，可以先看看有沒有辦法修改程式碼，讓其直接表達意圖。

如果一定要寫註解，也只寫有益的註解。

## 有益的註解

### 法律型註解

如果必須寫下關於法律方面的註解，內容不應該是契約或法律條款，而是讓註解去參考一個標準的許可或其他外部文件。

### 資訊型註解

透過註解提供一些資訊，像是一個函數的回傳值。

```js
// turn time into yyyy MM dd kk:mm:ss format
const formatTimestamp = () => {};
```

更好的做法是讓函式回傳一個類別，並將類別的名稱納入函式的命名中，這樣就不需要另外寫註解。

### 對意圖的解釋

註解不只可以提供關於實作的有用資訊，也可以提供某個決定背後的意圖資訊，像是為何在函式的某處提前 return 等等。

### 對於後果的告誡

利用註解對其他程式設計師進行告誡，像是不可以刪除某些東西、或是不可以將某些測試打開。

### TODO 註解

大部分 IDE 都提供了找出專案中所有 TODO 註解的功能，但還是要常常檢視是否有未完成的 TODO 遺留，避免讓糟糕的程式碼留在專案裡。

## 糟糕的註解

糟糕的註解可能造成時間的浪費，使得後人需要查看程式中的其他註解才能了解其意義，另外作者認為在開發流程中規定每個函式或類別都要寫上註解是不合理的要求，因為這只會造成程式碼的凌亂。

另外在版本控制盛行的現代，已經不需要再於程式碼中寫上編輯紀錄或是作者名稱，也應該在每次 commit 前刪除註解掉的程式碼，留下只會讓他們成為技術債的一部分。

還需注意就算是有用的註解，也要寫在和其直接相關的程式碼附近，避免在區域性的註解裡提供全域的資訊。
